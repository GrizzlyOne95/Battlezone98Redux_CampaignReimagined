abstract pass BZTerrainPassSchemeHighPSSM
{
	vertex_program_ref CR_TerrainHighPSSM_vertex
	{
	}
	fragment_program_ref CR_TerrainHighPSSM_fragment
	{
	} 

	scene_blend alpha_blend
	depth_func less_equal
	
	ambient $ambient
	diffuse $diffuse
	specular $specular $shininess
	depth_bias $bias

	texture_unit diffuseMap
	{
		texture_alias DiffuseMap
		texture white.png
	}
	
	texture_unit detailMap
	{
		texture_alias DetailMap
		texture white.png 
	}

	texture_unit normalMap
	{
		texture_alias NormalMap
		texture flat_n.png 2d
	}

	texture_unit specularMap
	{
		texture_alias SpecularMap
		texture white.png 2d
	}

	texture_unit emissiveMap
	{
		texture_alias EmissiveMap
		texture black.png 2d
	}

	texture_unit shadowMap1
	{
		content_type shadow
		tex_address_mode border
		tex_border_colour 1.0 1.0 1.0 1.0
	}

	texture_unit shadowMap2
	{
		content_type shadow
		tex_address_mode border
		tex_border_colour 1.0 1.0 1.0 1.0
	}

	texture_unit shadowMap3
	{
		content_type shadow
		tex_address_mode border
		tex_border_colour 1.0 1.0 1.0 1.0
	}
}


abstract pass BZTerrainPassSchemeHigh
{
	vertex_program_ref CR_TerrainHighShadow_vertex
	{
	}
	fragment_program_ref CR_TerrainHighShadow_fragment
	{
	} 

	scene_blend alpha_blend
	depth_func less_equal
	
	ambient $ambient
	diffuse $diffuse
	specular $specular $shininess
	depth_bias $bias

	texture_unit diffuseMap
	{
		texture_alias DiffuseMap
		texture white.png
	}
	
	texture_unit detailMap
	{
		texture_alias DetailMap
		texture white.png 
	}

	texture_unit normalMap
	{
		texture_alias NormalMap
		texture flat_n.png 2d
	}

	texture_unit specularMap
	{
		texture_alias SpecularMap
		texture white.png 2d
	}

	texture_unit emissiveMap
	{
		texture_alias EmissiveMap
		texture black.png 2d
	}
	
	texture_unit shadowMap1
	{
		content_type shadow
		tex_address_mode border
		tex_border_colour 1.0 1.0 1.0 1.0
	}
}

abstract pass BZTerrainPassSchemeHighNoShadow
{
	vertex_program_ref CR_TerrainHighNoShadow_vertex
	{
	}
	fragment_program_ref CR_TerrainHighNoShadow_fragment
	{
	} 

	scene_blend alpha_blend
	depth_func less_equal
	
	ambient $ambient
	diffuse $diffuse
	specular $specular $shininess
	depth_bias $bias

	texture_unit diffuseMap
	{
		texture_alias DiffuseMap
		texture white.png
	}
	
	texture_unit detailMap
	{
		texture_alias DetailMap
		texture white.png 
	}

	texture_unit normalMap
	{
		texture_alias NormalMap
		texture flat_n.png 2d
	}

	texture_unit specularMap
	{
		texture_alias SpecularMap
		texture white.png 2d
	}

	texture_unit emissiveMap
	{
		texture_alias EmissiveMap
		texture black.png 2d
	}
}


abstract pass BZTerrainPassSchemeMediumPSSM
{
	vertex_program_ref CR_TerrainMediumPSSM_vertex
	{
	}
	fragment_program_ref CR_TerrainMediumPSSM_fragment
	{
	} 

	scene_blend alpha_blend
	depth_func less_equal
	
	ambient $ambient
	diffuse $diffuse
	specular $specular $shininess
	depth_bias $bias

	texture_unit diffuseMap
	{
		texture_alias DiffuseMap
		texture white.png
	}
	
	texture_unit detailMap
	{
		texture_alias DetailMap
		texture white.png 
	}

	texture_unit normalMap
	{
		texture_alias NormalMap
		texture flat_n.png 2d
	}

	texture_unit specularMap
	{
		texture_alias SpecularMap
		texture white.png 2d
	}

	texture_unit emissiveMap
	{
		texture_alias EmissiveMap
		texture black.png 2d
	}

	texture_unit shadowMap1
	{
		content_type shadow
		tex_address_mode border
		tex_border_colour 1.0 1.0 1.0 1.0
	}

	texture_unit shadowMap2
	{
		content_type shadow
		tex_address_mode border
		tex_border_colour 1.0 1.0 1.0 1.0
	}

	texture_unit shadowMap3
	{
		content_type shadow
		tex_address_mode border
		tex_border_colour 1.0 1.0 1.0 1.0
	}
}

abstract pass BZTerrainPassSchemeMedium
{
	vertex_program_ref CR_TerrainMediumShadow_vertex
	{
	}
	fragment_program_ref CR_TerrainMediumShadow_fragment
	{
	} 

	scene_blend alpha_blend
	depth_func less_equal
	
	ambient $ambient
	diffuse $diffuse
	specular $specular $shininess
	depth_bias $bias

	texture_unit diffuseMap
	{
		texture_alias DiffuseMap
		texture white.png
	}
	
	texture_unit detailMap
	{
		texture_alias DetailMap
		texture white.png 
	}

	texture_unit normalMap
	{
		texture_alias NormalMap
		texture flat_n.png 2d
	}

	texture_unit specularMap
	{
		texture_alias SpecularMap
		texture white.png 2d
	}

	texture_unit emissiveMap
	{
		texture_alias EmissiveMap
		texture black.png 2d
	}

	texture_unit shadowMap1
	{
		content_type shadow
		tex_address_mode border
		tex_border_colour 1.0 1.0 1.0 1.0
	}
}

abstract pass BZTerrainPassSchemeMediumNoShadow
{
	vertex_program_ref CR_TerrainMediumNoShadow_vertex
	{
	}
	fragment_program_ref CR_TerrainMediumNoShadow_fragment
	{
	} 

	scene_blend alpha_blend
	depth_func less_equal
	
	ambient $ambient
	diffuse $diffuse
	specular $specular $shininess
	depth_bias $bias

	texture_unit diffuseMap
	{
		texture_alias DiffuseMap
		texture white.png
	}
	
	texture_unit detailMap
	{
		texture_alias DetailMap
		texture white.png
	}

	texture_unit normalMap
	{
		texture_alias NormalMap
		texture flat_n.png 2d
	}

	texture_unit specularMap
	{
		texture_alias SpecularMap
		texture white.png 2d
	}

	texture_unit emissiveMap
	{
		texture_alias EmissiveMap
		texture black.png 2d
	}
}



abstract pass BZTerrainPassSchemeLowPSSM
{
	vertex_program_ref CR_TerrainLowPSSM_vertex
	{
	}
	fragment_program_ref CR_TerrainLowPSSM_fragment
	{
	} 
	
	scene_blend alpha_blend
	depth_func less_equal
	
	ambient $ambient
	diffuse $diffuse
	specular $specular $shininess
	depth_bias $bias

	texture_unit diffuseMap
	{
		texture_alias DiffuseMap
		texture white.png
	}
	
	texture_unit detailMap
	{
		texture_alias DetailMap
		texture white.png 
	}

	texture_unit normalMap
	{
		texture_alias NormalMap
		texture flat_n.png 2d
	}

	texture_unit specularMap
	{
		texture_alias SpecularMap
		texture white.png 2d
	}

	texture_unit emissiveMap
	{
		texture_alias EmissiveMap
		texture black.png 2d
	}

	texture_unit shadowMap1
	{
		content_type shadow
		tex_address_mode border
		tex_border_colour 1.0 1.0 1.0 1.0
	}

	texture_unit shadowMap2
	{
		content_type shadow
		tex_address_mode border
		tex_border_colour 1.0 1.0 1.0 1.0
	}

	texture_unit shadowMap3
	{
		content_type shadow
		tex_address_mode border
		tex_border_colour 1.0 1.0 1.0 1.0
	}
}

abstract pass BZTerrainPassSchemeLow
{
	vertex_program_ref CR_TerrainLowShadow_vertex
	{
	}
	fragment_program_ref CR_TerrainLowShadow_fragment
	{
	} 
	
	scene_blend alpha_blend
	depth_func less_equal
	
	ambient $ambient
	diffuse $diffuse
	specular $specular $shininess
	depth_bias $bias

	texture_unit diffuseMap
	{
		texture_alias DiffuseMap
		texture white.png
	}
	
	texture_unit detailMap
	{
		texture_alias DetailMap
		texture white.png 
	}

	texture_unit normalMap
	{
		texture_alias NormalMap
		texture flat_n.png 2d
	}

	texture_unit specularMap
	{
		texture_alias SpecularMap
		texture white.png 2d
	}

	texture_unit emissiveMap
	{
		texture_alias EmissiveMap
		texture black.png 2d
	}

	texture_unit shadowMap1
	{
		content_type shadow
		tex_address_mode border
		tex_border_colour 1.0 1.0 1.0 1.0
	}
}

abstract pass BZTerrainPassSchemeLowNoShadow
{
	vertex_program_ref CR_TerrainLowNoShadow_vertex
	{
	}
	fragment_program_ref CR_TerrainLowNoShadow_fragment
	{
	} 
	
	scene_blend alpha_blend
	depth_func less_equal
	
	ambient $ambient
	diffuse $diffuse
	specular $specular $shininess
	depth_bias $bias

	texture_unit diffuseMap
	{
		texture_alias DiffuseMap
		texture white.png
	}
	
	texture_unit detailMap
	{
		texture_alias DetailMap
		texture white.png
	}

	texture_unit normalMap
	{
		texture_alias NormalMap
		texture flat_n.png 2d
	}

	texture_unit specularMap
	{
		texture_alias SpecularMap
		texture white.png 2d
	}

	texture_unit emissiveMap
	{
		texture_alias EmissiveMap
		texture black.png 2d
	}
}


abstract pass BZTerrainPassSchemeLowestPSSM
{
	vertex_program_ref CR_TerrainLowestPSSM_vertex
	{
	}
	fragment_program_ref CR_TerrainLowestPSSM_fragment
	{
	} 
	
	scene_blend alpha_blend
	depth_func less_equal
	
	ambient $ambient
	diffuse $diffuse
	specular $specular $shininess
	depth_bias $bias

	texture_unit diffuseMap
	{
		texture_alias DiffuseMap
		texture white.png
	}
	
	texture_unit detailMap
	{
		texture_alias DetailMap
		texture white.png 
	}

	texture_unit normalMap
	{
		texture_alias NormalMap
		texture flat_n.png 2d
	}

	texture_unit specularMap
	{
		texture_alias SpecularMap
		texture white.png 2d
	}

	texture_unit emissiveMap
	{
		texture_alias EmissiveMap
		texture black.png 2d
	}

	texture_unit shadowMap1
	{
		content_type shadow
		tex_address_mode border
		tex_border_colour 1.0 1.0 1.0 1.0
	}

	texture_unit shadowMap2
	{
		content_type shadow
		tex_address_mode border
		tex_border_colour 1.0 1.0 1.0 1.0
	}

	texture_unit shadowMap3
	{
		content_type shadow
		tex_address_mode border
		tex_border_colour 1.0 1.0 1.0 1.0
	}
}

abstract pass BZTerrainPassSchemeLowest
{
	vertex_program_ref CR_TerrainLowestShadow_vertex
	{
	}
	fragment_program_ref CR_TerrainLowestShadow_fragment
	{
	} 
	
	scene_blend alpha_blend
	depth_func less_equal
	
	ambient $ambient
	diffuse $diffuse
	specular $specular $shininess
	depth_bias $bias

	texture_unit diffuseMap
	{
		texture_alias DiffuseMap
		texture white.png
	}
	
	texture_unit detailMap
	{
		texture_alias DetailMap
		texture white.png 
	}

	texture_unit normalMap
	{
		texture_alias NormalMap
		texture flat_n.png 2d
	}

	texture_unit specularMap
	{
		texture_alias SpecularMap
		texture white.png 2d
	}

	texture_unit emissiveMap
	{
		texture_alias EmissiveMap
		texture black.png 2d
	}

	texture_unit shadowMap1
	{
		content_type shadow
		tex_address_mode border
		tex_border_colour 1.0 1.0 1.0 1.0
	}
}

abstract pass BZTerrainPassSchemeLowestNoShadow
{
	vertex_program_ref CR_TerrainLowestNoShadow_vertex
	{
	}
	fragment_program_ref CR_TerrainLowestNoShadow_fragment
	{
	} 
	
	scene_blend alpha_blend
	depth_func less_equal
	
	ambient $ambient
	diffuse $diffuse
	specular $specular $shininess
	depth_bias $bias

	texture_unit diffuseMap
	{
		texture_alias DiffuseMap
		texture white.png
	}
	
	texture_unit detailMap
	{
		texture_alias DetailMap
		texture white.png
	}

	texture_unit normalMap
	{
		texture_alias NormalMap
		texture flat_n.png 2d
	}

	texture_unit specularMap
	{
		texture_alias SpecularMap
		texture white.png 2d
	}

	texture_unit emissiveMap
	{
		texture_alias EmissiveMap
		texture black.png 2d
	}
}


material BZTerrainBase
{
	set $shininess "32"
    set $ambient "1 1 1"
    set $diffuse "1 1 1"
	set $specular "1 1 1"
	set $bias "0"
	set $glow "1 1 1"
	set $blendPower "1.5"
	
	
	lod_values 256 512
	lod_strategy Distance	
	
    technique
    {
        scheme high-pssm
        lod_index 0
		
 		pass : BZTerrainPassSchemeHighPSSM
 		{
			fragment_program_ref CR_TerrainHighPSSM_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }
	
    technique
    {
        scheme high-pssm
        lod_index 1
		
		pass : BZTerrainPassSchemeHighNoShadow
 		{
		}
    }

	technique
    {
        scheme high-pssm
        lod_index 2
		
		pass : BZTerrainPassSchemeMediumNoShadow
 		{
		}
    }

    technique
    {
        scheme high	 	
        lod_index 0
		
		pass : BZTerrainPassSchemeHigh
 		{
			fragment_program_ref CR_TerrainHighShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }
	
    technique
    {
        scheme high	 	
        lod_index 1
		
		pass : BZTerrainPassSchemeHighNoShadow
 		{
			fragment_program_ref CR_TerrainHighNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

	technique
    {
        scheme high
        lod_index 2
		
		pass : BZTerrainPassSchemeMediumNoShadow
 		{
		}
    }

    technique
    {
        scheme high-noshadow	
        lod_index 0
		
		pass : BZTerrainPassSchemeHighNoShadow
 		{
			fragment_program_ref CR_TerrainHighNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }
	
    technique
    {
        scheme high-noshadow	 	
        lod_index 1
		
		pass : BZTerrainPassSchemeHighNoShadow
 		{
			fragment_program_ref CR_TerrainHighNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

	technique
    {
        scheme high-noshadow
        lod_index 2
		
		pass : BZTerrainPassSchemeMediumNoShadow
 		{
			fragment_program_ref CR_TerrainMediumNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }
	
    technique
    {
        scheme medium-pssm
        lod_index 0
		  
		pass : BZTerrainPassSchemeMediumPSSM
 		{
			fragment_program_ref CR_TerrainMediumPSSM_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme medium-pssm
        lod_index 1
		  
		pass : BZTerrainPassSchemeMediumNoShadow
 		{
			fragment_program_ref CR_TerrainMediumNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme medium-pssm
        lod_index 2
		  
		pass : BZTerrainPassSchemeLowNoShadow
 		{
		}
    }

    technique
    {
        scheme medium
        lod_index 0
		  
		pass : BZTerrainPassSchemeMedium
 		{
			fragment_program_ref CR_TerrainMediumShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme medium
        lod_index 1
		  
		pass : BZTerrainPassSchemeMediumNoShadow
 		{
			fragment_program_ref CR_TerrainMediumNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme medium
        lod_index 2
		  
		pass : BZTerrainPassSchemeLowNoShadow
 		{
			fragment_program_ref CR_TerrainLowNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme medium-noshadow
        lod_index 0
		  
		pass : BZTerrainPassSchemeMediumNoShadow
 		{
			fragment_program_ref CR_TerrainMediumNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme medium-noshadow
        lod_index 1
		  
		pass : BZTerrainPassSchemeMediumNoShadow
 		{
			fragment_program_ref CR_TerrainMediumNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme medium-noshadow
        lod_index 2
		  
		pass : BZTerrainPassSchemeLowNoShadow
 		{
			fragment_program_ref CR_TerrainLowNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme low-pssm
        lod_index 0
		  
		pass : BZTerrainPassSchemeLowPSSM
 		{
			fragment_program_ref CR_TerrainLowPSSM_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme low-pssm
        lod_index 1
		  
		pass : BZTerrainPassSchemeLowNoShadow
 		{
			fragment_program_ref CR_TerrainLowNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme low-pssm
        lod_index 2
		  
		pass : BZTerrainPassSchemeLowNoShadow
 		{
			fragment_program_ref CR_TerrainLowNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme low
        lod_index 0
		  
		pass : BZTerrainPassSchemeLow
 		{
			fragment_program_ref CR_TerrainLowShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme low
        lod_index 1
		  
		pass : BZTerrainPassSchemeLowNoShadow
 		{
			fragment_program_ref CR_TerrainLowNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme low
        lod_index 2
		  
		pass : BZTerrainPassSchemeLowNoShadow
 		{
			fragment_program_ref CR_TerrainLowNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme low-noshadow
        lod_index 0
		  
		pass : BZTerrainPassSchemeLowNoShadow
 		{
			fragment_program_ref CR_TerrainLowNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme low-noshadow
        lod_index 1
		  
		pass : BZTerrainPassSchemeLowNoShadow
 		{
			fragment_program_ref CR_TerrainLowNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme low-noshadow
        lod_index 2
		  
		pass : BZTerrainPassSchemeLowNoShadow
 		{
			fragment_program_ref CR_TerrainLowNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme lowest-pssm
        lod_index 0
		  
		pass : BZTerrainPassSchemeLowestPSSM
 		{
			fragment_program_ref CR_TerrainLowestPSSM_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme lowest-pssm
        lod_index 1
		  
		pass : BZTerrainPassSchemeLowestNoShadow
 		{
			fragment_program_ref CR_TerrainLowestNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme lowest-pssm
        lod_index 2
		  
		pass : BZTerrainPassSchemeLowestNoShadow
 		{
			fragment_program_ref CR_TerrainLowestNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme lowest
        lod_index 0
		  
		pass : BZTerrainPassSchemeLowest
 		{
			fragment_program_ref CR_TerrainLowestShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme lowest
        lod_index 1
		  
		pass : BZTerrainPassSchemeLowestNoShadow
 		{
			fragment_program_ref CR_TerrainLowestNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme lowest
        lod_index 2
		  
		pass : BZTerrainPassSchemeLowestNoShadow
 		{
			fragment_program_ref CR_TerrainLowestNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme lowest-noshadow
        lod_index 0
		  
		pass : BZTerrainPassSchemeLowestNoShadow
 		{
			fragment_program_ref CR_TerrainLowestNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme lowest-noshadow
        lod_index 1
		  
		pass : BZTerrainPassSchemeLowestNoShadow
 		{
			fragment_program_ref CR_TerrainLowestNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

    technique
    {
        scheme lowest-noshadow
        lod_index 2
		  
		pass : BZTerrainPassSchemeLowestNoShadow
 		{
			fragment_program_ref CR_TerrainLowestNoShadow_fragment
			{
				param_named blendPower float $blendPower
			}
		}
    }

	technique
	{
		scheme glow

		pass
 		{
			vertex_program_ref CR_TerrainGlow_vertex
			{
			}
			fragment_program_ref CR_TerrainGlow_fragment
			{
				param_named fogColour float3 0 0 0
			}

			scene_blend alpha_blend
			depth_func less_equal

			ambient $glow 
			diffuse $glow 
			depth_bias $bias

			texture_unit emissiveMap
			{
				texture_alias EmissiveMap
				texture black.png 2d
			}
		}
	}
}

material BZTerrainBaseDebug
{
	lod_values 2560
	lod_strategy Distance

    technique
    {
        scheme high		
        lod_index 0
		
		pass 
 		{
			diffuse 1 0 0 1
		}
    }
	
	technique
    {
        scheme high		
        lod_index 1
		
		pass 
 		{
		
			diffuse 0 0 1 0
		}
    }

	technique
    {
        scheme high		
        lod_index 2
		
		pass 
 		{
		
			diffuse 0 1 0 0
		}
    }	
}
